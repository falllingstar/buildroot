# Copyright 2020 Google LLC
#
# Use of this source code is governed by a BSD-style license that can be
# found in the LICENSE file.
source_root = "//third_party/brotli"


config("brotli_headers") {
  include_dirs = [ "$source_root/c/include" ]
}

source_set("brotli") {
  include_dirs = [ "$source_root/c/include" ]

  # Brotli is used by freetype and libjxl; they only need to decode brotli.
  sources = [
    "$source_root/c/common/constants.c",
    "$source_root/c/common/context.c",
    "$source_root/c/common/dictionary.c",
    "$source_root/c/common/platform.c",
    "$source_root/c/common/shared_dictionary.c",
    "$source_root/c/common/transform.c",
    "$source_root/c/dec/bit_reader.c",
    "$source_root/c/dec/decode.c",
    "$source_root/c/dec/huffman.c",
    "$source_root/c/dec/state.c",
  ]

  public_configs = [ ":brotli_headers" ]

}
